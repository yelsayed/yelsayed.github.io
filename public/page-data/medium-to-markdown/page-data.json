{"componentChunkName":"component---src-templates-blog-post-js","path":"/medium-to-markdown/","result":{"data":{"site":{"siteMetadata":{"title":"Yasser Codes","social":{"twitter":"ysr.sayed","instagram":"yeyeyesser","medium":"theyasser","email":"ysr.sayed@gmail.com"}}},"markdownRemark":{"id":"81ea1a12-b589-57ac-8f3b-609844b98a6c","excerpt":"If you‚Äôre looking to start your own Gatsby personal blog site this is the tool for you. md-from-medium Install using: The usage is very simple: For the next‚Ä¶","html":"<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/007924517d79246559a05ef47ff21cc8/1307b/1*ZQpg_8kHV-0M5UkPOulOyw.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.64705882352942%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVQoz52Sv0/CQBTHb9R/wH9A4/9knBhYiImrk5Mm6OhKZDEOuphgQYTSMoAOJrQFaSKRVtCWkDZFCm2lvR8ereFHZDB+c3fv8u4+d+/dPUAWhKkIJr80da8SiBaaQ111TDqZYJj1mgPkTpkFGCE0G+ewjyA1x3IOXMVv9UbJb4H3+Fb/6AWZEQ8h9Dxv9c0RfNpiwcXuRnF/s3sIPvaAdZAnb9RvO+NU6pznyzVBFEWpUqkahjFL5AdOPudAemc7e7BeTwA9AYKTIulS/9hzFUUVBEmS6oIoqapq2/YchghRk1MEkI4l5fueb8VGN2vkjMFt6odh4jTyu3zBMEw/CJYfLDS+89X87ElDPXwfIhOzS+xoBwUsa8Bx5RU5kzCA8XgUhKciglF4WxSYpmkMk+10OoqqZjIMy5YEQVz6qpYJedl4UJ2hh0KM0hjh6bzdVkocX60+FoosTZs2XdfnMESYe51cP/Uva05nACP4jwK0dy2/oblyz3N9vFgbixWCovoItQT/W985AZQBq57y2gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Medium ‚ñ∂Ô∏è Markdown\"\n        title=\"Medium ‚ñ∂Ô∏è Markdown\"\n        src=\"/static/007924517d79246559a05ef47ff21cc8/c5bb3/1*ZQpg_8kHV-0M5UkPOulOyw.png\"\n        srcset=\"/static/007924517d79246559a05ef47ff21cc8/04472/1*ZQpg_8kHV-0M5UkPOulOyw.png 170w,\n/static/007924517d79246559a05ef47ff21cc8/9f933/1*ZQpg_8kHV-0M5UkPOulOyw.png 340w,\n/static/007924517d79246559a05ef47ff21cc8/c5bb3/1*ZQpg_8kHV-0M5UkPOulOyw.png 680w,\n/static/007924517d79246559a05ef47ff21cc8/b12f7/1*ZQpg_8kHV-0M5UkPOulOyw.png 1020w,\n/static/007924517d79246559a05ef47ff21cc8/b5a09/1*ZQpg_8kHV-0M5UkPOulOyw.png 1360w,\n/static/007924517d79246559a05ef47ff21cc8/1307b/1*ZQpg_8kHV-0M5UkPOulOyw.png 3000w\"\n        sizes=\"(max-width: 680px) 100vw, 680px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Medium ‚ñ∂Ô∏è Markdown</figcaption>\n  </figure></p>\n<p>If you‚Äôre looking to start your own Gatsby personal blog site this is the tool for you.</p>\n<blockquote>\n<p><a href=\"https://www.npmjs.com/package/md-from-medium\">md-from-medium</a></p>\n</blockquote>\n<p>Install using:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g md-from-medium</code></pre></div>\n<p>The usage is very simple:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">md-from-medium &lt;mediumPostUrl&gt; &lt;markdownDir&gt;</code></pre></div>\n<p>For the next section I talk about how it works, you can also view the code over <a href=\"https://github.com/yelsayed/md-from-medium\">here</a>.</p>\n<h1>How it Works</h1>\n<p>Brace yourselves‚Ä¶ this is the easiest tool to build on the planet.</p>\n<p>The script (which is around ~200 lines) has three main functions: getting the HTML of the Medium post, turning it into a proper DOM, and traversing the DOM, changing elements of it into Markdown. So straight forward üòÑ.</p>\n<p>The service that does the retrieval is none other than <a href=\"https://www.npmjs.com/package/request\">request</a>. This library fetches the URL and gets the raw HTML for us to parse.</p>\n<blockquote>\n<p>Note: Even though it‚Äôs deprecated it still has around 21 million weekly downloads</p>\n</blockquote>\n<p>The service that converts that HTML into a proper DOM is called <a href=\"https://www.npmjs.com/package/cheerio\">cheerio</a>. The DOM that comes off this has a simple jQuery-like wrapper around it for easy manipulations.</p>\n<p>Lastly the we use another service called <a href=\"https://www.npmjs.com/package/turndown\">turndown</a>. Turndown requires a lot of customization to work with the specific DOM you want it to, which is what the rest of the script is doing.</p>\n<p>The final code of combining these three services is as simple as you think it is.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">mdFromMedium</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n    <span class=\"token comment\">// Fetching HTML from medium...  </span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n        <span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>  \n            uri<span class=\"token operator\">:</span> url<span class=\"token punctuation\">,</span>  \n            method<span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span>  \n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> httpResponse<span class=\"token punctuation\">,</span> body</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  \n            <span class=\"token comment\">// Converting HTML to DOM...  </span>\n            <span class=\"token keyword\">let</span> $ <span class=\"token operator\">=</span> cheerio<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Converting into Markdown...  </span>\n            <span class=\"token keyword\">let</span> html <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'article'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">html</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>  \n            <span class=\"token keyword\">let</span> markdown <span class=\"token operator\">=</span> turndownService<span class=\"token punctuation\">.</span><span class=\"token function\">turndown</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n              \n            <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>markdown<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Thanks :D</p>","frontmatter":{"title":"Move from Medium to Markdown","date":"May 25, 2021","description":"The script (which is around ~200 lines) has three main functions: getting the HTML of the Medium post, turning it into a proper DOM, and traversing the DOM, changing elements of it into Markdown. So‚Ä¶"}},"previous":{"fields":{"slug":"/bandar/"},"frontmatter":{"title":"Bandar: a Humble Digital Assistant"}},"next":null},"pageContext":{"id":"81ea1a12-b589-57ac-8f3b-609844b98a6c","previousPostId":"77b4e557-bc9d-5ee9-97d2-ae3c4ad97d4a","nextPostId":null}},"staticQueryHashes":["2841359383"]}